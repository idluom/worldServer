<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/template/tst.xhtml">

	<ui:define name=""></ui:define>
	<ui:define name="pageContent">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<meta name='viewport'
			content='minimum-scale=1.0, initial-scale=1.0,
	width=device-width, maximum-scale=1.0, user-scalable=no' />
		<title>single-room-chat</title>
		<link rel="stylesheet" type="text/css" href="site.css" />
		<script type="text/javascript" src="chatroom.js"></script>
		<script type="text/javascript">
var wsUri = 'ws://localhost:18080/skiworld-web/chat';
var proxy = CreateProxy(wsUri);

document.addEventListener("DOMContentLoaded", function(event) {
	console.log(document.getElementById('loginPanel'));
	proxy.initiate({
		loginPanel: document.getElementById('loginPanel'),
		msgPanel: document.getElementById('msgPanel'),
		txtMsg: document.getElementById('txtMsg'),
		txtLogin: document.getElementById('txtLogin'),
		msgContainer: document.getElementById('msgContainer')
	});
});

</script>
		<br />
		<br />
		<br />
		<br />

		<div>
			<div class="col-md-7">

				<div style="text-align: center; margin: auto">
					<object type="application/x-shockwave-flash"
						style="width: 500px; height: 500px;" data="#{tripBean.video}">
						<param name="movie" value="#{tripBean.video}" />
						<param name="allowFullScreen" value="true" />
						<param name="allowscriptaccess" value="always" />
					</object>

				</div>
				<br /> <br />
			</div>


		<div class="col-md-5">
			<div id="container">
				<div id="loginPanel">
					<div id="infoLabel">Type a name to join the room</div>
					<div style="padding: 10px;">
						<input id="txtLogin" type="text" class="loginInput"
							onkeyup="proxy.login_keyup(event)" />
						<button type="button" class="loginInput" onclick="proxy.login()">Login</button>
					</div>
				</div>
				<div class="col-md-12">
					<div class="row no_padding title__block nothing no-margin">
						<div id="msgPanel" style="display: none; height: 450px;">
							<div id="msgContainer" style="overflow: auto; height: 450px;"></div>
							<div id="msgController">
								<textarea rows="3" class="form-control" id="txtMsg" title="Enter to send message"
									onkeyup="proxy.sendMessage_keyup(event)"
									style="height: 30px;"></textarea>
								<button class="dc_g_button red" style="height: 30px; width: 100px" type="button"
									onclick="proxy.logout()">Logout</button>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>

	</div>

	</ui:define>
</ui:composition>